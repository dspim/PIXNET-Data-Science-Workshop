{
    "collab_server" : "",
    "contents" : "---\ntitle: \"EDA with R\"\nsubtitle: Data Visualization with **ggplot2** \nauthor: \"Alger 與其他作者群 @PIXNET Workshop\"\ndate:  \"2017-06-17\"\noutput:\n  ioslides_presentation:\n    css: css/dsp.css\n    widescreen: yes\n    self_contained: false\n---\n```{r ,echo=FALSE,warning=FALSE,message=F}\noptions('scipen'=100,'digits'=2)\nknitr::opts_chunk$set(comment=\"\",prompt=F,strip.white=F,\n                      warning=FALSE,message=F,echo=T,\n                      fig.align='center',fig.height=3.5)\nlibrary(dplyr)\nlibrary(dygraphs)\nlibrary(ggplot2)\nlibrary(data.table)\nlibrary(devtools)\nlibrary(plotly)\nlibrary(xtable)\nlibrary(rCharts)\nlibrary(tidyr)\nlibrary(DT)\nlibrary(RColorBrewer)\nlibrary(dplyr)\nlibrary(ggthemr)\nggthemr('flat')\n```\n\n# 課程教材作者群\n \n## 課程教材作者群\n\n\n<style>\n  .col2 {\n    columns: 2 200px;         /* number of columns and width in pixels*/\n    -webkit-columns: 2 200px; /* chrome, safari */\n    -moz-columns: 2 200px;    /* firefox */\n  }\n  .col3 {\n    columns: 3 100px;\n    -webkit-columns: 3 100px;\n    -moz-columns: 3 100px;\n  }\n</style>\n\n名人堂：\n\n<div class=\"col2\">\n- <center>Johnson Hsieh <br><img src = 'img/johnson.jpg' height = 120></center>\n- <center>Wush Wu <br><img src = 'img/wush.jpg' height = 120></center>\n<br><br><br><br><br>\n- <center>Rafe C. H. Liu <br><img src = 'img/rafe.jpg' height = 100></center>\n- <center>George <br><img src = 'img/george.jpg' height = 100></center>\n- <center>Hsiao Ling <br><img src = 'img/hl.jpg' height = 100></center>\n</div>\n\n# Speaker\n\n## Alger, Yang\n<div style='float:left;width:48%;'>\n__苟且的役男, Junior Data Analyst__\n\n<p>\n  * Master of Statistics in NCCU \n  * RA in NCCU\n  * Taiwan Healthcare Database Data Analysis Lab\n  * Data Analyst Intern in DSP \n  * R Course Assistant in TDSF \n  * Champion of 2016 Aisa Open Data Hackathon\n\n#### __Skills__\n<p>\n  * R, SQL, PYTHON, MLDM,...\n\n</div>\n\n<div style='float:left;width:48%;'>\n\n<img src='img/lofu.jpg' style='height: 450px'></img>\n</div>\n\n# 課程綱要\n\n## Agenda \n\n<div style='float:left;width:48%;'>\n\n- Data Visualization\n- `ggplot2` in R\n    * 基本架構介紹\n    * 起手式(基本語法)\n    * 應用(各種圖形的呈現)\n        + `Bar`\n        + `Line`\n        + `Histogram`\n        + `Boxplot`\n        + `Point`\n        + `Heatmap`\n    * 進階技巧\n\n  \n</div>\n\n<div style='float:left;width:48%;'>\n\n- 互動式視覺化呈現\n- Bonus\n\n<img src='img/a2.jpg' style='height: 350px'></img>\n\n</div>\n\n## Data Visualization\n\n<div style='float:left;width:48%;'>\n\n- 清晰有效地傳達與溝通訊息\n- 教學、研究、宣傳\n- 美學、功能兼顧\n- 統計圖形、訊息可視化\n- 一張好圖，勝過千言萬語\n\n</div>\n\n<div style='float:left;width:48%;'>\n\n<img src='img/w2.png' style='height: 450px'></img>\n\n</div>\n\n\n## ggplot2 簡介\n\n<div style='float:left;width:50%;'>\n- 套件下載次數第一名([Source](https://www.rdocumentation.org/trends?page1=1&sort1=direct&page2=1&sort2=total&page3=1&page4=1))\n- R環境下的繪圖套件\n- 取自 “The Grammar of Graphics” (Leland Wilkinson, 2005)\n- [設計理念](https://github.com/cosname/ggplot2-translation/blob/master/preface.md)\n    - 採用圖層系統\n    - 用抽象的概念來控制圖形，</br>\n      避免細節繁瑣\n    - 圖形美觀\n</div>   \n\n<div style='float:right;width:48%;'>\n<img src='img/most_download_in_R.png' width=420 align='center'></img>\n</div> \n\n## The Anatomy of a Plot \n\n<center>\n<img src='img/anatomy.png' width=750 align='center'></img>\n</center>\n\n## ggplot2 基本架構\n\n- 資料 (data) 和映射 (mapping)\n- 幾何對象 (`geom`etric)\n- 座標尺度 (`scale`)\n- 統計轉換 (`stat`istics)\n- 座標系統 (`coord`inante)\n- 圖層 (layer)\n- 刻面 (`facet`)\n- 主題 (`theme`)\n\n## ggplot2 基本架構(2)\n\n<center>\n<img src='img/ggplot.jpeg' width=550 align='center'></img>\n</br>\nsource: http://goo.gl/Odt2Rs\n</center>\n\n## ggplot2 基本語法 \n\n```{r echo=TRUE, eval=FALSE}\nggplot(data=..., aes(x=..., y=...)) + \n  geom_xxx(...) +\n  stat_xxx(...) + \n  facet_xxx(...) + ...\n```\n\n- `ggplot` 描述 data 從哪來\n- `aes` 描述圖上的元素跟 data 之類的對應關係\n- `geom_xxx` 描述要畫圖的類型及相關調整的參數\n- 常用的類型諸如：`geom_bar`, `geom_line`, `geom_points`, ...\n\n# 圖層概念的實作\n\n## Various functions\n\n```{r}\nlibrary(ggplot2)\n# list all geom\nls(pattern = '^geom_', env = as.environment('package:ggplot2'))\n```\n\n## **注意**\n\n- 使用 `data.frame` 儲存資料 (不可以丟 matrix 物件)\n- 使用 `long format` (利用reshape2將資料轉換成 1 row = 1 observation)\n\n</br>\n\n<center>![](img/wide-long.png)</center>\n\n\n## 馬上來個範例 {data-background=\"a.jpeg\"}\n\n```{r echo=TRUE,fig.width=6,fig.height=3,fig.align='center'}\n# 先定義一個資料表\ndata <- data.frame(身份 = c(\"大學部\",\"研究所\",\"教授\",\"講師\",\"助教\"), \n                   人數 = c(20,15,5,2,3))\n# plot\nggplot(data = data, aes(x = 身份, y = 人數)) + \n  geom_bar(stat = \"identity\") +\n  theme_grey(base_family = \"STHeiti\") \n```\n\n# 正片開始\n\n## 首先請先安裝以下套件\n\n- 安裝套件\n```{r echo=TRUE, eval=FALSE}\ninstall.packages(c(\"ggplot2\",\"dplyr\",\"reshape2\"),repos=\"http://cran.csie.ntu.edu.tw/\")\n```\n\n</br>\n\n- 載入套件\n```{r echo=TRUE, eval=FALSE}\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(reshape2)\n```\n\n</br>\n\n**注意**：下載完套件一定要記得 `library` 才能使用喲！\n\n## 一切從讀檔開始（CSV）\n\n- [課程資料下載](https://ling32342.github.io/2017_NCCU_R/data/transaction.csv)\n\n```{r,eval=FALSE}\n############### 絕對路徑 ###############\n# 請輸入完整的檔案路徑\ndata <- read.csv(\"/Volumes/SD-Lofu/PIXNET_DS_Workshop_EDA_Alger/data/transaction.csv\") #如果你是mac\ndata <- read.csv(\"C:\\\\Users\\\\transaction.csv\") #如果你是windows\n\n############### 相對路徑 ###############\n# 瞭解現在我們所處在的路徑\ngetwd()\n# 設定我們檔案存放的路徑\nsetwd() \n# 讀檔起手式\ndata <- read.csv(\"transaction.csv\") \n# 若讀入的是亂碼，試試以下\ndata <- read.csv(\"transaction.csv\",fileEncoding = 'big5')  #如果你是mac\ndata <- read.csv(\"transaction.csv\",fileEncoding = 'utf-8') #如果你是windows\n```\n\n```{r,echo=FALSE}\ndata <- read.csv(\"data/transaction.csv\") %>% as.data.frame()\ndata <- data[,-1]\ndata$trac_month <- factor(data$trac_month)\n```\n\n## 資料介紹\n```{r, echo=FALSE}\nhead(data[,sample(1:15,6)],5) %>% \n  knitr::kable()\n```\n\n## 欄位說明\n\n```{r echo = FALSE,fig.height=3, warning=FALSE, fig.align='center', message=FALSE, results='asis'}\ndata.frame(英文欄位名稱=c(\"city\",\"district\",\"trac_year\",\"trac_month\",\"trac_type\",\"trac_content\",\n                   \"use_type\",\"build_type\",\"build_ymd\",\"area_land\",\"area_build\",\n                   \"area_park\",\"price_total\",\"price_unit\"),\n           中文欄位名稱=c(\"縣市\",\"鄉鎮市區\",\"交易年份\",\"交易月份\",\"交易標的\",\"交易筆棟數\",\"使用分區或編定\",\n                    \"建物型態\",\"建築完成年月\",\"土地移轉總面積.平方公尺.\",\"建物移轉總面積.平方公尺.\",\n                    \"車位移轉總面積.平方公尺.\",\"總價.元.\",\"單價.元.平方公尺.\")) -> name\n\n```\n\n<div style='float:left;width:48%;'>\n```{r, echo = FALSE}\nname[1:7,] %>% knitr::kable()\n```\n\n</div>\n\n<div style='float:right;width:50%;'>\n```{r, echo = FALSE}\nname[8:14,] -> name2\nrownames(name2) <- c(1:7)\nname2 %>% knitr::kable()\n```\n\n</div>\n\n\n## 以為開始了嗎？\n\n- 進行分析前，先去了解資料的型態與特性\n\n```{r echo=TRUE}\nstr(data)\n```\n\n## 身為資料分析師，一定要有的好習慣！\n\n- 暸解基本的各變數統計量值\n\n```{r echo=TRUE}\nsummary(data) \n```\n\n\n# 質化 v.s. 量化：Bar Chart\n\n## `geom_bar`\n\n- 先來`比較`看看2013年在各縣市的案件交易量\n\n```{r,warning=FALSE,fig.height=3,fig.align='center', message=FALSE}\nthm <- function() theme(text=element_text(size = 15, family = \"STHeiti\")) # 控制字體與大小\n    # STHeiti是只有Mac才有的字體, 用來解決Mac系統中文顯示錯誤的問題\n    # Windows系統使用者請忽略 `+ thm()` 指令\ndata %>% \n  ggplot(aes(x=city)) + geom_bar(stat = \"count\") + thm() # stat = \"count\" 算個數\n```\n\n## Change labels !\n\n```{r,warning=FALSE,fig.height=3.5,fig.align='center', message=FALSE}\ndata %>% \n  ggplot(aes(x=city)) + geom_bar(stat = \"count\") + thm() +\n  labs(title=\"各縣市交易量\",x=\"縣市\",y=\"交易量\") # lab用來幫圖形的標題、x軸與y軸做命名\n```\n\n## Change colors !\n\n- 顏色調整：`color` vs `fill`?\n```{r,warning=FALSE,fig.height=3.5,fig.align='center', message=FALSE}\ndata %>% \n  ggplot(aes(x=city)) + geom_bar(stat = \"count\") + thm() +\n  labs(title=\"各縣市交易量\",x=\"縣市\",y=\"交易量\") +\n  geom_bar(fill='snow', color='black') # see colors() if you're picky\n```\n\n\n## Bar chart\n\n-  `比較`臺北市各行政區的案件交易量\n\n```{r,warning=FALSE,fig.height=3.5,fig.align='center', message=FALSE}\n# 資料整理\ntable = data %>% \n  filter(city == \"臺北市\") %>% \n  group_by(district) %>% \n  summarise(amount=n())  # dplyr::n 用來計數\n```\n\n## Bar chart\n\n```{r,warning=FALSE,fig.align='center', message=FALSE}\ntable %>% \n  ggplot(aes(x=district,y=amount)) +\n  geom_bar(stat = \"identity\") + thm() # stat='identity'以表格的值做為bar的高度\n```\n\n\n## Reoder x\n```{r ,warning=FALSE,fig.align='center', message=FALSE}\ntable %>% \n  ggplot(aes(x=reorder(district,-amount), y=amount)) +\n  geom_bar(stat='identity') + thm() +\n  labs(titles = \"臺北市各行政區交易量\", x = \"行政區\", y = \"案件數\")\n```\n\n## 小挑戰\n\n- 計算並`比較`臺北市&高雄市的各使用分區或編定(`use_type`)所佔比例\n\n```{r,echo=FALSE}\ntable = data %>% \n  filter(city == \"臺北市\" | city == \"高雄市\" ) %>% \n  group_by(city,use_type) %>% \n  summarise(amount = n()) %>% \n  mutate(rate = round(amount/sum(amount),2) ) \ntable\n```\n\n## 參考解答\n\n```{r, eval=FALSE}\ntable = data %>% \n  filter(city == \"臺北市\" | city == \"高雄市\" ) %>% \n  group_by(city,use_type) %>% \n  summarise(amount = n()) %>% \n  mutate(rate = round(amount/sum(amount),2) ) \n```\n\n<center>\n<img src='img/white2.png' width=600 align='center'></img>\n</center>\n\n## Grouping：`stack`\n```{r,warning=FALSE,fig.align='center', message=FALSE,fig.height=4}\ntable %>% \n  ggplot(aes(x = city, y = rate, fill = use_type)) +\n  geom_bar(stat = 'identity', position = 'stack') + thm() # stack類別堆疊\n```\n\n## Grouping：`dodge`\n```{r,warning=FALSE,fig.align='center', message=FALSE,fig.height=4}\ntable %>% \n  ggplot(aes(x = city, y = rate, fill = use_type)) +\n  geom_bar(stat = 'identity', position = 'dodge')  + # dodge類別並排\n  thm() + scale_fill_discrete(name  =\"使用分區或編定\")  # 設定圖例的顯示\n```\n\n# 量化 v.s. 量化：Line Chart\n\n## `geom_line`\n\n- 各月份交易量\n\n```{r,warning=FALSE,fig.align='center', message=FALSE}\ntable = data %>% \n  group_by(trac_month) %>% \n  summarise(amount=n()) \ntable\n```\n\n## Line chart\n\n```{r,warning=FALSE,fig.align='center', message=FALSE}\ntable %>% \n  ggplot(aes(x=trac_month,y=amount,group=1)) +\n  geom_line() + thm() + labs(x = \"交易月份\" , y = \"交易數量\")\n```\n\n\n## `Multiple` Line\n\n- 各縣市各月份交易量比較\n\n```{r,warning=FALSE,fig.align='center', message=FALSE}\ntable = data %>% \n  group_by(city,trac_month) %>% \n  summarise(amount=n()) \ntable\n```\n\n## `Multiple` Line\n\n```{r,warning=FALSE,fig.align='center', message=FALSE}\ntable %>% \n  ggplot(aes(x=trac_month,y=amount,group=city,color=city)) +\n  geom_line() + geom_point() + thm() + \n  labs(x = \"交易月份\" , y = \"交易數量\")\n```\n\n\n## 小挑戰\n\n- 計算臺北市&高雄市不同屋齡的交易量，並畫出 `Multiple` Line plot\n- 如下圖：\n\n```{r,echo=FALSE}\ndata %>% \n  filter(city == \"臺北市\" | city == \"高雄市\" ) %>% \n  group_by(city,age) %>% \n  summarise(amount = n()) %>% \n  ggplot(aes(x=age,y=amount,group=city,color=city)) +\n  geom_line() + geom_point() + thm()\n```\n\n## 參考答案 (有發現什麼問題嗎？！)\n\n```{r,echo=TRUE}\ndata %>% \n  filter(city == \"臺北市\" | city == \"高雄市\" ) %>% \n  group_by(city,age) %>% \n  summarise(amount = n()) %>% \n  ggplot(aes(x=age,y=amount,group=city,color=city)) +\n  geom_line() + geom_point() + thm()\n```\n\n## 調整 x 軸的 scale 再看一次\n\n- EDA的的價值之一就是找出資料中的不合理\n\n```{r}\ndata %>% \n  filter(city == \"臺北市\" | city == \"高雄市\" ) %>% \n  group_by(city,age) %>% \n  summarise(amount = n()) %>% \n  ggplot(aes(x=age,y=amount,group=city,color=city)) +\n  geom_line() + geom_point() + thm() + coord_cartesian(xlim = c(-3, 10))\n```\n\n\n\n# 單一數值：Histogram\n\n## `geom_histogram`\n\n```{r,warning=FALSE,fig.align='center', message=FALSE}\ndata %>% \n  ggplot(aes(x=age, y =..count..)) + \n  geom_histogram()\n```\n\n## Histogram\n\n- `aes(y=..count..)` vs. `aes(y=..density..)`\n\n```{r,warning=FALSE,fig.align='center', message=FALSE}\ndata %>% \n  ggplot(aes(x=age, y =..density..)) + \n  geom_histogram()\n```\n\n## Histogram\n```{r,warning=FALSE,fig.align='center', message=FALSE}\ndata %>% \n  ggplot(aes(x=age, y =..density.., fill =..count..)) + # fill 依指定欄位填色\n  geom_histogram(binwidth=.5) \n```\n\n## Histogram + density\n\n- `geom_histogram()` + `geom_density()`\n\n```{r,warning=FALSE,fig.align='center', message=FALSE}\ndata %>% \n  ggplot(aes(x=age,y=..density..)) + \n  geom_histogram(color=\"black\", fill=\"white\") +\n  geom_density(alpha=.2, fill=\"#FF6666\") # alpha設定透明度\n```\n\n# Boxplot \n\n## Boxplot \n\n- `geom_boxplot`\n```{r,warning=FALSE,fig.align='center', message=FALSE}\ndata %>% \n  ggplot(aes(x=city,y=price_unit)) + \n  geom_boxplot() + thm() + \n  labs(x = \"縣市\" , y = \"每平方公尺價格(元)\")\n```\n\n## Change `limits` of axes !\n\n```{r,warning=FALSE,fig.align='center', message=FALSE}\ndata %>% \n  ggplot(aes(x=city,y=price_unit)) + \n  geom_boxplot() + thm() + \n  labs(x = \"縣市\" , y = \"每平方公尺價格(元)\") + \n  coord_cartesian(ylim = c(0, 400000)) # 設定y軸上下界線\n```\n\n## Boxplot \n\n- 不用新增欄位，也可以直接在畫圖的同時計算！\n\n```{r,warning=FALSE,fig.align='center', message=FALSE}\ndata %>% \n  ggplot(aes(x=city,y=log(price_unit))) + \n  geom_boxplot() + thm() + # geom_boxplot(outlier.shape = NA) outlier不顯示\n  labs(x = \"縣市\" , y = \"log(每平方公尺價格(元))\")\n```\n\n## 小挑戰\n\n- 試著畫出高雄市在各種**不同使用分區或編定**下的屋齡分佈\n- 如下圖：\n\n```{r,echo=FALSE}\ndata %>% \n  filter(city == \"高雄市\") %>% \n  ggplot(aes(x=use_type,y=age)) + \n  geom_boxplot() + thm() + # geom_boxplot(outlier.shape = NA) outlier不顯示\n  labs(x = \"use_type\" , y = \"age\")\n```\n\n## 參考答案\n\n```{r}\ndata %>% \n  filter(city == \"高雄市\") %>% \n  ggplot(aes(x=use_type,y=age)) + \n  geom_boxplot() + thm() + # geom_boxplot(outlier.shape = NA) outlier不顯示\n  labs(x = \"use_type\" , y = \"age\")\n```\n\n# 量化 v.s. 量化：Scatter Plot\n\n## Scatter plot\n\n- `geom_point`\n\n```{r,warning=FALSE,fig.align='center', message=FALSE}\niris %>% \n  ggplot(aes(x=Sepal.Length, y=Petal.Length, color=Species)) + \n  geom_point(shape=1, size=2) # shape控制圖示；size控制點的大小\n```\n\n## point shape types in `ggplot2`\n\n<center>\n<img src='img/point_shape_types.png' style='height: 500px' align=\"middle\"></img></center>\n\n## Scatter plot\n\n- 參數放在 aes() 函數裡面，表示資料依據指定欄位內容做不同的shape/size變化\n```{r,warning=FALSE,fig.align='center', message=FALSE}\niris %>% \n  ggplot(aes(x=Sepal.Length, y=Petal.Length, color=Species, shape = Species, size = Species)) + \n  geom_point() + scale_shape_manual(values=c(1,5,7)) +  # 控制 shape 顯示圖示\n  scale_size_manual(values=c(1,2,3))   # 控制圖示 size 顯示大小\n```\n\n## 插播\n\n```{r ecoh = TRUE,eval=FALSE}\ninstall.packages(\"devtools\")\n```\n\n<center>\n<img src='img/devtools.png' width=750 align='center'></img>\n</center>\n\n- [插播ggthemr](https://github.com/cttobin/ggthemr)\n\n## 小挑戰\n\n- 士林區,文山區,信義區三個區域的**套房(1房1廳1衛)**在屋齡與單位尺價存在著怎樣的特性？\n\n```{r,echo=FALSE}\nlibrary(ggthemr)\nggthemr('flat')\n\ndata %>% \n  filter(district == \"文山區\" | district == \"士林區\" |district == \"信義區\") %>% \n  filter(build_type == \"套房(1房1廳1衛)\") %>% \n  ggplot(aes(x=age, y=price_unit,color = district)) + geom_point(position = \"jitter\") +\n  thm()\n```\n\n## 參考答案\n\n```{r}\nlibrary(ggthemr)\nggthemr('flat')\nans = data %>% \n  filter(district == \"文山區\" | district == \"士林區\" |district == \"信義區\") %>% \n  filter(build_type == \"套房(1房1廳1衛)\") %>% \n  ggplot(aes(x=age, y=price_unit,color = district)) + geom_point(position = \"jitter\") +\n  thm() \nans\n```\n\n# HeatMap \n\n## 相關性熱圖\n\n- 通常我們會好奇變數與變數之間是不是存在著相關性\n- 在統計學上有一種簡單的方式去計算變數間的關係指標，我們稱之為相關係數係數！\n- 以下將以 iris 資料做為示範，用熱圖來呈現\n\n```{r}\n# 挑出前四欄位\ndat <- iris[,1:4]\ndat %>% \n  head()\n```\n\n## `寬轉長` 計算相關性\n\n```{r}\ncor <- melt(cor(dat, use=\"p\"))\ncor %>% \n  head(10)\n```\n\n## Heatmap的好處\n\n- 藉由 Heatmap ，快速地看出變數之間的關聯程度\n\n```{r}\ncor %>% \n  ggplot(aes(x=Var1, y=Var2, fill=value)) +\n  geom_tile() + labs(x = \"\", y = \"\") + scale_fill_gradient2(limits=c(-1, 1))\n```\n\n# 進階技巧\n\n## `stat`istics\n\n- Fit regression line\n\n```{r}\nlibrary(ggthemr)\nggthemr('flat')\niris %>% \n  ggplot(aes(x = Sepal.Length, y = Petal.Length)) + \n  geom_point() +\n  stat_smooth(method=lm, level=.95) # add se=FALSE to disable CI\n```\n\n## `facet`\n\n- 比較各縣市在各月份下的交易量\n\n```{r echo = TRUE,fig.height=3.2}\ndata %>% \n  group_by(city,trac_month) %>% # 選擇縣市、交易月份作為分群\n  summarise(total = n()) -> table # 計算分群下的總數\ntable %>% \n  ggplot(aes(x = trac_month, y = total ,fill = city))+\n    geom_bar(stat='identity') + thm()\n```\n\n## `facet`\n\n```{r,fig.height=4}\ntable %>% \n  ggplot(aes(x = trac_month, y = total ,fill = city))+\n    geom_bar(stat='identity') + thm() +\n    facet_wrap( ~city , nrow = 2) +\n    labs(x = \"交易月份\" ,y=\"交易量\")\n```\n\n## `coord`_flip()\n\n```{r,fig.height=4}\ntable %>% \n  ggplot(aes(x = trac_month, y = total ,fill = city)) + \n  geom_bar(stat='identity') + thm() +facet_wrap( ~ city , nrow = 2)+\n  labs(x = \"交易月份\" ,y=\"交易量\") + coord_flip() \n```\n\n\n## 圖形輸出\n\n- 利用 RStudio UI 介面存擋\n- 畫完圖之後，再存檔~~\n\n```{r echo=TRUE,eval=FALSE}\nggsave('檔案名稱')\nggsave(\"plot.pdf\", width = 4, height = 4)\nggsave(\"plot.png\", width = 4, height = 4, dpi = 300)\n```\n\n# 互動式視覺化呈現\n\n## package：`Plotly`\n\n- Plotly是一個資料視覺化的R套件，以簡單的方式，讓資料能夠產生互動的效果。\n- 提供一個合作平台，使用者能夠將自己在R中繪製的圖存上屬於自己的Plotly平台上。\n- [Plotly官方網站](https://plot.ly/)\n- 結合了各式各樣的API，包裝`Python`、`R`、`Malab`、...等等\n\n>- 當然～ggplot2也能夠輕易地使用plotly轉換成互動式的圖表！！\n\n## 套件安裝\n\n- 直接從`CRAN`內下載\n\n```{r echo=TRUE,eval=FALSE}\n# Plotly is now on CRAN!\ninstall.packages(\"plotly\")\n# install the latest development version (on GitHub) via devtools\n```\n\n- `或是`從`github`上下載，但前提是`先`安裝`devtools`\n\n```{r echo=TRUE,eval=FALSE}\n# install.packages(\"devtools\")\ndevtools::install_github(\"ropensci/plotly\")\n```\n\n</br>\n\n- 安裝完，一樣別忘了要`library`！\n```{r}\nlibrary(plotly)\n```\n\n## plot with `ggplot2`\n\n- 剛剛的小挑戰！？\n\n```{r ,warning=FALSE,fig.align='center', message=FALSE}\nans = data %>% \n  filter(district == \"文山區\" | district == \"士林區\" |district == \"信義區\") %>% \n  filter(build_type == \"套房(1房1廳1衛)\") %>% \n  ggplot(aes(x=age, y=price_unit,color = district)) + geom_point(position = \"jitter\") +\n  thm() \nans\n```\n\n## plot with `ggplotly` & `Resize`\n\n- 是不是非常簡單？！\n\n```{r,warning=FALSE,fig.align='center', message=FALSE, fig.height=5}\nggplotly(ans,height = 400,width = 1000)\n```\n\n\n## 學習資源\n\n- [ggplot2 cheat sheet from RStudio Inc.](http://www.rstudio.com/wp-content/uploads/2015/03/ggplot2-cheatsheet.pdf)\n\n- [Graphs with ggplot2](http://www.cookbook-r.com/Graphs/)\n\n- [ggplot2 官方文件](http://docs.ggplot2.org/current/index.html)\n\n- [Rcolorbrewer調色盤](http://docs.ggplot2.org/current/scale_brewer.html)\n\n- [Plotly ggplot2 Library](https://plot.ly/ggplot2/)\n\n- [highcharter套件介紹](http://jkunst.com/highcharter/oldindex.html#shiny-integration)\n\n\n## 掌握心法後，如何自行利用 R 解決問題\n\n- 了解自己的需求，詢問關鍵字與函數\n\n- [Taiwan R User Group](http://www.meetup.com/Taiwan-R)\n\n- [ptt R_Language版](https://www.ptt.cc/bbs/R_Language/index.html)\n\n- [R軟體使用者論壇](https://groups.google.com/forum/#!forum/taiwanruser)\n\n- [StackOverflow](http://stackoverflow.com/) \n\n- 歡迎來信 <qazwsx36541472@gmail.com> 與我一起交流！\n\n##  Thanks for listening\n\n<center>\n<img src='img/thx_1.png' width=850 align='center'></img>\n</center>\n\n\n\n\n\n\n\n\n\n\n\n",
    "created" : 1496432851900.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3039574542",
    "id" : "820772B2",
    "lastKnownWriteTime" : 1496377484,
    "last_content_update" : 1496377484,
    "path" : "/Volumes/SanDisk 2/DSP/Project/2017Q2  Pixnet企業內訓/course/PIXNET-Data-Science-Workshop/R_EDA_Visualization.Rmd",
    "project_path" : "R_EDA_Visualization.Rmd",
    "properties" : {
    },
    "relative_order" : 5,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}